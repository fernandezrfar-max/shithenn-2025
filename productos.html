<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Productos - Sheitenn Boutique</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { margin:0; font-family:Arial; background:#f5f5f5; }
header { background:#fff; padding:15px; text-align:center; border-bottom:1px solid #ddd; }
.productos-grid {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:20px;
  padding:20px;
}
.producto-card {
  background:#fff;
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
}
.producto-card img {
  width:100%;
  height:260px;
  object-fit:cover;
}
.producto-info {
  padding:15px;
  text-align:center;
}
.producto-info h3 { margin:0 0 5px; }
.producto-info p { margin:0 0 10px; font-weight:bold; color:#d0008f; }
.btn {
  width:100%;
  padding:10px;
  border:none;
  background:black;
  color:white;
}
</style>
</head>

<body>

<header>
  <h2>Cat√°logo Sheitenn Boutique</h2>
</header>

<div class="productos-grid" id="productosGrid"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import {
  getFirestore,
  collection,
  onSnapshot,
  query,
  orderBy
} from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDI8B6x2XEI9KEMVMKTgVS2sfylh9mGjd4",
  authDomain: "boutique-2025.firebaseapp.com",
  projectId: "boutique-2025"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const grid = document.getElementById("productosGrid");

const q = query(collection(db,"productos"), orderBy("fecha","desc"));

onSnapshot(q, snap => {
  grid.innerHTML = "";
  snap.forEach(d => {
    const p = d.data();

    if (p.estado !== "activo") return;

    const card = document.createElement("div");
    card.className = "producto-card";
    card.innerHTML = `
      <img src="${p.imagen}">
      <div class="producto-info">
        <h3>${p.nombre}</h3>
        <p>$${p.precio} COP</p>
        <button class="btn">Comprar</button>
      </div>`;
    grid.appendChild(card);
  });
});
</script>

</body>
</html>
